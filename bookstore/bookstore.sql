-- MySQL dump 10.13  Distrib 5.5.36, for Win32 (x86)
--
-- Host: localhost    Database: bookstore
-- ------------------------------------------------------
-- Server version	5.5.36

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `book`
--

DROP TABLE IF EXISTS `book`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `book` (
  `bid` char(32) NOT NULL,
  `bname` varchar(100) DEFAULT NULL,
  `price` decimal(5,1) DEFAULT NULL,
  `author` varchar(40) DEFAULT NULL,
  `image` varchar(200) DEFAULT NULL,
  `cid` char(32) DEFAULT NULL,
  `del` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`bid`),
  KEY `cid` (`cid`),
  CONSTRAINT `book_ibfk_1` FOREIGN KEY (`cid`) REFERENCES `category` (`cid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `book`
--

LOCK TABLES `book` WRITE;
/*!40000 ALTER TABLE `book` DISABLE KEYS */;
INSERT INTO `book` VALUES ('1','Java编程思想（第4版）',75.6,'Bruce Eckel','book_img/9317290-1_l.jpg','1',0),('2','Java核心技术卷1',68.5,'（美）Cay S. Horstmann/（美）Gary Cornell','book_img/20285763-1_l.jpg','1',0),('3','Java就业培训教程',39.9,'张孝祥','book_img/8758723-1_l.jpg','1',0),('4','Head First java',47.5,'（美）塞若','book_img/9265169-1_l.jpg','1',0),('5','JavaWeb开发详解',83.3,'孙鑫','book_img/22788412-1_l.jpg','2',0),('6','Struts2深入详解',63.2,'孙鑫','book_img/20385925-1_l.jpg','2',0),('7','精通Hibernate',30.0,'孙卫琴','book_img/8991366-1_l.jpg','2',0),('8','精通Spring2.x',63.2,'陈华雄','book_img/20029394-1_l.jpg','2',0),('9','Javascript权威指南',93.6,'（美）弗兰纳根','book_img/22722790-1_l.jpg','3',0),('D1AD6AFE853F45E9A0C7EE658885CF85','C',1.0,'zhangsan','book_img/5/d/CBF719E725D94444AD9FCFA6026ACFEC_Cloud.jpg','C072319EF3714C6787923F57C09C8C42',0);
/*!40000 ALTER TABLE `book` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `category`
--

DROP TABLE IF EXISTS `category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `cid` char(32) NOT NULL,
  `cname` varchar(100) NOT NULL,
  PRIMARY KEY (`cid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
INSERT INTO `category` VALUES ('1','JavaSE'),('2','JavaEE'),('3','Javascript'),('C072319EF3714C6787923F57C09C8C42','C');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `orderitem`
--

DROP TABLE IF EXISTS `orderitem`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `orderitem` (
  `iid` char(32) NOT NULL,
  `count` int(11) DEFAULT NULL,
  `subtotal` decimal(10,2) DEFAULT NULL,
  `oid` char(32) DEFAULT NULL,
  `bid` char(32) DEFAULT NULL,
  PRIMARY KEY (`iid`),
  KEY `oid` (`oid`),
  KEY `bid` (`bid`),
  CONSTRAINT `orderitem_ibfk_1` FOREIGN KEY (`oid`) REFERENCES `orders` (`oid`),
  CONSTRAINT `orderitem_ibfk_2` FOREIGN KEY (`bid`) REFERENCES `book` (`bid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `orderitem`
--

LOCK TABLES `orderitem` WRITE;
/*!40000 ALTER TABLE `orderitem` DISABLE KEYS */;
INSERT INTO `orderitem` VALUES ('0A37966D7D994CAB9C3AC5AA8EE62856',1,68.50,'7CD0A5A2D3E34CEC9E7CA6D46DE4F16A','2'),('2BB70AD636EB4BA8B221BDF3954332DE',6,285.00,'DE9AC17867B54484AD26B5A32E7D84BE','4'),('383A3283EC464FA5BD2A277F93FD89E4',1,68.50,'EBA6A139D9D14DF08E8F8F65940EABFA','2'),('567FB5C8594D4C5BBA1844B7272B2B68',1,47.50,'7CD0A5A2D3E34CEC9E7CA6D46DE4F16A','4'),('6169161275F74FD78546C5AF91DF5EC4',1,75.60,'BE5C7934458843009DDAD997D0D8188C','1'),('71F1C60D0D9B41CA8C421939C89F1182',1,75.60,'94D26D8CF9744B44B7067A16DA2D5DF3','1'),('7A257B4F854A4D7292DC5C8D96743409',1,63.20,'4EE5A8F02D4C42CF95B6D6C7D79075B0','6'),('91508775113E4A90811E2CE51D322FEC',1,30.00,'42B8D187D93F4530939CD56C15962A61','7'),('C6477B4968444E899EA027720A606F8B',1,47.50,'831EC8ED257E424B94D4B93D7E400743','4'),('C7C0A80425524C16AC3A461C5CA60819',3,119.70,'EAF11B5C0AEC444E974B98B03C80909F','3'),('D1300E69C784488A92266B7AB32F9D62',1,68.50,'FFA11B2836C3408BA5C29B25FBB3AF12','2'),('DF11E793D5EB49B29B1604E49EA51734',1,93.60,'4EE5A8F02D4C42CF95B6D6C7D79075B0','9'),('ED41121445F84B88BB38FABB5026531E',2,60.00,'479C1B4E2E0445579D254895DCBFEC9D','7');
/*!40000 ALTER TABLE `orderitem` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `orders`
--

DROP TABLE IF EXISTS `orders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `orders` (
  `oid` char(32) NOT NULL,
  `ordertime` datetime DEFAULT NULL,
  `total` decimal(10,2) DEFAULT NULL,
  `state` smallint(1) DEFAULT NULL,
  `uid` char(32) DEFAULT NULL,
  `address` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`oid`),
  KEY `uid` (`uid`),
  CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`uid`) REFERENCES `tb_user` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `orders`
--

LOCK TABLES `orders` WRITE;
/*!40000 ALTER TABLE `orders` DISABLE KEYS */;
INSERT INTO `orders` VALUES ('42B8D187D93F4530939CD56C15962A61','2017-09-07 10:49:07',30.00,3,'B33A66B803A748098FA269E84E286FC9',NULL),('479C1B4E2E0445579D254895DCBFEC9D','2017-10-10 12:28:32',60.00,1,'8E5C09E1C1974F29AA13A2CDC6C6A299',NULL),('4EE5A8F02D4C42CF95B6D6C7D79075B0','2017-09-10 20:36:24',156.80,1,'B33A66B803A748098FA269E84E286FC9',NULL),('7CD0A5A2D3E34CEC9E7CA6D46DE4F16A','2017-09-07 09:37:36',116.00,3,'B33A66B803A748098FA269E84E286FC9',NULL),('831EC8ED257E424B94D4B93D7E400743','2017-11-19 03:03:08',47.50,1,'8E5C09E1C1974F29AA13A2CDC6C6A299',NULL),('94D26D8CF9744B44B7067A16DA2D5DF3','2017-09-08 16:45:08',75.60,4,'B33A66B803A748098FA269E84E286FC9',NULL),('BE5C7934458843009DDAD997D0D8188C','2017-11-11 14:04:56',75.60,1,'8E5C09E1C1974F29AA13A2CDC6C6A299',NULL),('DE9AC17867B54484AD26B5A32E7D84BE','2017-09-08 16:29:53',285.00,1,'B33A66B803A748098FA269E84E286FC9',NULL),('EAF11B5C0AEC444E974B98B03C80909F','2017-10-10 12:28:09',119.70,1,'8E5C09E1C1974F29AA13A2CDC6C6A299',NULL),('EBA6A139D9D14DF08E8F8F65940EABFA','2017-11-11 14:04:12',68.50,1,'8E5C09E1C1974F29AA13A2CDC6C6A299',NULL),('FFA11B2836C3408BA5C29B25FBB3AF12','2017-11-19 08:37:52',68.50,1,'8E5C09E1C1974F29AA13A2CDC6C6A299',NULL);
/*!40000 ALTER TABLE `orders` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tb_user`
--

DROP TABLE IF EXISTS `tb_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tb_user` (
  `uid` char(32) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `email` varchar(50) NOT NULL,
  `code` char(64) NOT NULL,
  `state` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tb_user`
--

LOCK TABLES `tb_user` WRITE;
/*!40000 ALTER TABLE `tb_user` DISABLE KEYS */;
INSERT INTO `tb_user` VALUES ('8E5C09E1C1974F29AA13A2CDC6C6A299','HE','321','1111111111@qq.com','EBF9D9F57470421FA152FA4181A2135C5058067E831C44F7B5AEA5219A5F1937',1);
/*!40000 ALTER TABLE `tb_user` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-11-25 20:24:00
